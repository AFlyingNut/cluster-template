# Enable Kustomize Alpha Plugins via Argo CD ConfigMap, required for ksops
global:
    domain: argocd.ajaykumar.ie
configs:
    params:
        server.insecure: true
    cm:
        statusbadge.enabled: null
        kustomize.buildOptions: --enable-alpha-plugins --enable-exec
    secret:
        argocdServerAdminPassword: $2a$10$VS18cczTtbUep4iBCs0FdORY9tWiBZ/ew4m62ciotMBWrWeyC.JNO
        githubSecret: bd77b8ded03b9fdc259013f221d5c244
repoServer:
    env:
        - name: XDG_CONFIG_HOME
          value: /.config
        - name: SOPS_AGE_KEY_FILE
          value: /.config/sops/age/keys.txt
    # Use init containers to configure custom tooling
    # https://argoproj.github.io/argo-cd/operator-manual/custom_tools/
    volumes:
        - name: custom-tools
          emptyDir: {}
        - name: sops-age
          secret:
            secretName: sops-age
    initContainers:
        - name: install-ksops
          image: viaductoss/ksops:v4.3.2
          command:
            - /bin/sh
            - -c
          args:
            - echo "Installing KSOPS..."; mv ksops /custom-tools/; mv kustomize /custom-tools/; echo "Done.";
          volumeMounts:
            - mountPath: /custom-tools
              name: custom-tools
    volumeMounts:
        - mountPath: /usr/local/bin/kustomize
          name: custom-tools
          subPath: kustomize
        - mountPath: /usr/local/bin/ksops
          name: custom-tools
          subPath: ksops
        - mountPath: /.config/sops/age
          name: sops-age
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1kh9qxg0nplvlncvld27lg3h4f3epdsr32vuxswtxn95fyhj04ufsuq9cl6
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBzbC9QbFMvNEVLeWRybEkr
            NDIvZ1d1ZG1TZ1ZDYnYvL05uSGFFcU55K0JvCnhnamJjaVhRR3JmWnN3MG1HNENr
            VzF3UVFkUHlIWmkvaWVGelNCekZUQTQKLS0tIFhLdTlvWkdNblVnSWZoN0lpMzBq
            SithNk1BN3NRNUZxNDhjMHBQQ1RmNW8KLtFSaD0hq/+k4HgTEbxPakV7eTP3VmS9
            XjzTIhDHSJOyZ9wvlilMZh1+W/fVZ0KL5ekxOQ5w22HuIa0BO3U3uQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-07-05T08:32:03Z"
    mac: ENC[AES256_GCM,data:1DWIot4B2WBAQN1YMMlnPz8CfwcT5zqc4jcdJ5fXAeqCzisi+Eu9TIB+oolT3ghbQ/Z8HZuPePuN9DAa1TYJmXlPc0QDSCbGJ4iqTZ+VfTdYdTloAUWCOVgw6Biw/eEowsCgwNH+Tu7wdpRLz7UGy9kBqjhdLRDmFd48FwZmvYg=,iv:XNMRDtXXq1UEjMKGk1PvFuoWEZvJoPhEh69pHTD+YFg=,tag:S6Jc8joD8mjj/TyICJWbcg==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData)$
    version: 3.9.0
